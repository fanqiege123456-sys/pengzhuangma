import{_ as V,u as b,a as h,r as c,b as k,c as n,o as L,d as z,e as l,f as o,w as a,g as B,h as _,i as C,E as f,j as E,l as F}from"./index-1630d45c.js";const N={class:"login-container"},R={class:"login-box"},q={__name:"Login",setup(K){const g=b(),v=h(),r=c(),t=c(!1),s=k({username:"admin",password:"admin123"}),w={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},d=async()=>{r.value&&await r.value.validate(async p=>{if(p){t.value=!0;try{const e=await v.login(s.username,s.password);e.success?(f.success("登录成功"),g.push("/")):f.error(e.message||"登录失败")}finally{t.value=!1}}})};return(p,e)=>{const m=n("el-input"),u=n("el-form-item"),y=n("el-button"),x=n("el-form");return L(),z("div",N,[l("div",R,[e[3]||(e[3]=l("div",{class:"login-header"},[l("h2",null,"碰撞码管理后台")],-1)),o(x,{ref_key:"loginFormRef",ref:r,model:s,rules:w,class:"login-form",onKeyup:B(d,["enter"])},{default:a(()=>[o(u,{prop:"username"},{default:a(()=>[o(m,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=i=>s.username=i),placeholder:"用户名",size:"large","prefix-icon":_(E)},null,8,["modelValue","prefix-icon"])]),_:1}),o(u,{prop:"password"},{default:a(()=>[o(m,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=i=>s.password=i),type:"password",placeholder:"密码",size:"large","prefix-icon":_(F),"show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),o(u,null,{default:a(()=>[o(y,{type:"primary",size:"large",loading:t.value,onClick:d,class:"login-button"},{default:a(()=>[...e[2]||(e[2]=[C(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),e[4]||(e[4]=l("div",{class:"login-tips"},[l("p",null,"默认账号: admin"),l("p",null,"默认密码: admin123")],-1))])])}}},U=V(q,[["__scopeId","data-v-fd82039c"]]);export{U as default};
