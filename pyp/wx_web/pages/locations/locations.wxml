<!--pages/locations/locations.wxml-->
<view class="container">
  <!-- åœ°å€åˆ—è¡¨ -->
  <view class="locations-list" wx:if="{{locations.length > 0}}">
    <view 
      wx:for="{{locations}}" 
      wx:key="id" 
      class="location-item {{item.is_default ? 'default' : ''}}"
    >
      <view class="location-header">
        <view class="location-label">
          <text class="label-icon">{{labelIcons[item.label]}}</text>
          <text class="label-text">{{labelTexts[item.label]}}</text>
          <text wx:if="{{item.is_default}}" class="default-badge">é»˜è®¤</text>
        </view>
        <view class="location-actions">
          <text class="action-btn" bindtap="editLocation" data-id="{{item.id}}">ç¼–è¾‘</text>
          <text class="action-btn delete" bindtap="confirmDelete" data-id="{{item.id}}" wx:if="{{!item.is_default || locations.length === 1}}">åˆ é™¤</text>
        </view>
      </view>
      
      <view class="location-address">
        <text>{{item.country || ''}}{{item.province || ''}}{{item.city || ''}}{{item.district || ''}}</text>
      </view>
      
      <view class="location-footer" wx:if="{{!item.is_default}}">
        <view class="set-default-btn" bindtap="setDefault" data-id="{{item.id}}">è®¾ä¸ºé»˜è®¤</view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{locations.length === 0}}">
    <text class="empty-icon">ğŸ“</text>
    <text class="empty-text">æš‚æ— åœ°å€</text>
    <text class="empty-hint">æ·»åŠ å¸¸ç”¨åœ°å€,æ–¹ä¾¿ç¢°æ’åŒ¹é…</text>
  </view>

  <!-- æ·»åŠ æŒ‰é’® -->
  <view class="add-button-wrapper">
    <view class="add-btn" bindtap="addLocation">
      <text class="add-icon">+</text>
      <text>æ·»åŠ åœ°å€</text>
    </view>
  </view>
</view>
